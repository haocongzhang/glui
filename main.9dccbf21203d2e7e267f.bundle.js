(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{306:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.useCanvas=exports.useCanvasState=exports.CanvasStateContext=void 0;var jsx_runtime_1=__webpack_require__(3),display_1=__webpack_require__(23),ticker_1=__webpack_require__(20),react_1=__webpack_require__(7),renderer_1=__webpack_require__(309);exports.CanvasStateContext=react_1.createContext({});exports.useCanvasState=function(){return react_1.useContext(exports.CanvasStateContext)};exports.useCanvas=function(_a){var gl=_a.gl,left=_a.left,top=_a.top,width=_a.width,height=_a.height,children=_a.children,onReady=_a.onReady,_b=react_1.useState((function(){var res={stage:new display_1.Container,defaultContainer:new display_1.Container,ticker:ticker_1.Ticker.shared};return res.stage.addChild(res.defaultContainer),res}))[0],stage=_b.stage,defaultContainer=_b.defaultContainer,ticker=_b.ticker,state=react_1.useMemo((function(){console.group("CanvasState changed");var nextState={gl:gl,stage:stage,ticker:ticker,left:left,top:top,width:width,height:height};return console.info(nextState),console.groupEnd(),nextState}),[gl,stage,ticker,left,top,width,height]),Canvas=react_1.useState((function(){return function Canvas(props){return react_1.useEffect((function(){null==onReady||onReady()}),[]),props.children}}))[0];react_1.useLayoutEffect((function(){renderer_1.render(jsx_runtime_1.jsx(Canvas,{children:jsx_runtime_1.jsx(exports.CanvasStateContext.Provider,__assign({value:state},{children:children}),void 0)},void 0),defaultContainer)}),[Canvas,children,defaultContainer,state]),react_1.useLayoutEffect((function(){var renderLoop=function(){gl.render(stage)};return ticker.add(renderLoop,null,ticker_1.UPDATE_PRIORITY.LOW),function(){ticker.remove(renderLoop)}}),[gl,ticker,stage]),react_1.useEffect((function(){return function(){ticker.destroy(),stage.destroy(),renderer_1.unmountComponentAtNode(defaultContainer)}}),[defaultContainer,ticker,stage]),react_1.useEffect((function(){gl.resize(width,height)}),[gl,width,height])}},309:function(module,exports,__webpack_require__){"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.createPortal=exports.unmountComponentAtNode=exports.render=exports.Renderer=exports.ReactRootTags=void 0;var ReactRootTags,scheduler_1=__webpack_require__(206),elements_1=__webpack_require__(310),reconciler_1=__webpack_require__(701),roots=new Map;function handleErrorInNextTick(error){setTimeout((function(){throw error}))}!function(ReactRootTags){ReactRootTags[ReactRootTags.LegacyRoot=0]="LegacyRoot",ReactRootTags[ReactRootTags.BlockingRoot=1]="BlockingRoot",ReactRootTags[ReactRootTags.ConcurrentRoot=2]="ConcurrentRoot"}(ReactRootTags=exports.ReactRootTags||(exports.ReactRootTags={})),exports.Renderer=reconciler_1.Reconciler({now:scheduler_1.unstable_now,createInstance:elements_1.createElement,removeChild:function(parentInstance,child){parentInstance.removeChild(child),child.destroy(!0)},appendChild:function(parentInstance,child){parentInstance.addChild(child)},insertBefore:function(parentInstance,child,beforeChild){var index=parentInstance.getChildIndex(beforeChild);parentInstance.addChildAt(child,index)},supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,isPrimaryRenderer:!1,scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,queueMicrotask:"function"==typeof window.queueMicrotask?globalThis.queueMicrotask:"undefined"!=typeof Promise?function(callback){return Promise.resolve(null).then(callback).catch(handleErrorInNextTick)}:setTimeout,noTimeout:-1,appendInitialChild:function(parentInstance,child){parentInstance.addChild(child)},appendChildToContainer:function(container,child){container.addChild(child)},removeChildFromContainer:function(container,child){container.removeChild(child),child.destroy(!0)},insertInContainerBefore:function(container,child,beforeChild){var index=container.getChildIndex(beforeChild);container.addChildAt(child,index)},commitUpdate:function(instance,updatePayload,_type,_prevProps,_nextProps,_internalHandle){instance.__applyUpdate(instance,updatePayload)},hideInstance:function(instance){instance.visible=!1},unhideInstance:function(instance){instance.visible=!0},hideTextInstance:function(_textInstance){throw new Error("要渲染文本，请使用 <Text content=...>")},getPublicInstance:function(instance){return instance},getRootHostContext:function(_rootContainer){return null},getChildHostContext:function(parentHostContext,_type,_rootContainer){return parentHostContext},createTextInstance:function(){throw new Error("要渲染文本，请使用 <Text content=...>")},finalizeInitialChildren:function(_instance,_type,_props,_rootContainer,_hostContext){return!1},commitMount:function(_instance,_type,_newProps,_internalHandle){},prepareUpdate:function(instance,_type,oldProps,newProps,_rootContainer,_hostContext){return instance.__diffProps(instance,oldProps,newProps)},prepareForCommit:function(){return null},preparePortalMount:function(){},resetAfterCommit:function(_containerInfo){},shouldSetTextContent:function(){return!1},clearContainer:function(container){container.removeChildren()}}),exports.Renderer.injectIntoDevTools({bundleType:0,version:null!==(_a=Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:".",DEBUG_RECONCILER:"false"}).PKG_VERSION)&&void 0!==_a?_a:"0.0.0",rendererPackageName:"@glui/core"}),exports.render=function render(element,container,tag){void 0===tag&&(tag=ReactRootTags.ConcurrentRoot),console.group("render",{element:element,container:container});var root=roots.get(container);if(console.info({root:root}),!root){var newRoot=root=exports.Renderer.createContainer(container,tag,!1,null);roots.set(container,newRoot)}return exports.Renderer.updateContainer(element,root,null,(function(){})),console.groupEnd(),exports.Renderer.getPublicRootInstance(root)},exports.unmountComponentAtNode=function unmountComponentAtNode(container,callback){var root=roots.get(container);return!!root&&(exports.Renderer.updateContainer(null,root,null,(function(){roots.delete(container),null==callback||callback(container)})),!0)},exports.createPortal=function createPortal(children,containerInfo,implementation,key){return exports.Renderer.createPortal(children,containerInfo,implementation,key)}},310:function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createElement=void 0;var container_1=__webpack_require__(691),graphics_1=__webpack_require__(692),image_1=__webpack_require__(698),text_1=__webpack_require__(311),text_input_1=__webpack_require__(699);__exportStar(__webpack_require__(700),exports),exports.createElement=function createElement(type,props){if("Container"===type)return container_1.createContainer(props);if("Text"===type)return text_1.createText(props);if("Image"===type)return image_1.createImage(props);if("Graphics"===type)return graphics_1.createGraphics(props);if("GraphicsGl"===type)return graphics_1.createGraphicsGl(props);if("TextInput"===type)return text_input_1.createTextInput(props);if("ScrollView"===type)throw new Error("ScrollView is not implemented yet");throw new Error("createElement error: invalid type: "+type)}},311:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createText=exports.TextElement=void 0;var text_1=__webpack_require__(80),utils_1=__webpack_require__(95),TextElement=function(_super){function TextElement(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.__width=0,_this}return __extends(TextElement,_super),Object.defineProperty(TextElement.prototype,"width",{get:function(){return this.__width},set:function(value){this.__width=value},enumerable:!1,configurable:!0}),TextElement}(text_1.Text);exports.TextElement=TextElement,exports.createText=function createText(_a){var _b=_a.text,text=void 0===_b?"":_b,props=__rest(_a,["text"]),el=new TextElement(text);return props&&utils_1.defaultApplyProps(el,props),el}},312:function(module,exports,__webpack_require__){__webpack_require__(313),__webpack_require__(485),__webpack_require__(486),__webpack_require__(678),module.exports=__webpack_require__(681)},387:function(module,exports){},486:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(251)},6:function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.createElement=exports.useCanvasState=void 0;var canvas_1=__webpack_require__(306);Object.defineProperty(exports,"useCanvasState",{enumerable:!0,get:function(){return canvas_1.useCanvasState}});var elements_1=__webpack_require__(310);Object.defineProperty(exports,"createElement",{enumerable:!0,get:function(){return elements_1.createElement}}),__exportStar(__webpack_require__(704),exports),__exportStar(__webpack_require__(705),exports),__exportStar(__webpack_require__(309),exports),__exportStar(__webpack_require__(706),exports)},678:function(module,exports,__webpack_require__){"use strict";var _clientApi=__webpack_require__(127),_clientLogger=__webpack_require__(59),_configFilename=__webpack_require__(679);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},679:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));__webpack_require__(680);var parameters={layout:"fullscreen",options:{storySort:{order:["core",["Intro","Surface","Container","Text","TextInput","Image","Graphics","ScrollView","ParticleContainer"],"components",["FlexBox"]]}}}},680:function(module,exports,__webpack_require__){},681:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(251).configure)([__webpack_require__(682),__webpack_require__(683)],module,!1)}).call(this,__webpack_require__(85)(module))},682:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=682},683:function(module,exports,__webpack_require__){var map={"./stories/graphics.stories.tsx":684,"./stories/image.stories.tsx":720,"./stories/intro.stories.tsx":715,"./stories/performance.stories.tsx":716,"./stories/surface.stories.tsx":717,"./stories/text-input.stories.tsx":718,"./stories/text.stories.tsx":719};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=683},684:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"GLMode",(function(){return GLMode})),__webpack_require__.d(__webpack_exports__,"CanvasMode",(function(){return CanvasMode}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(70),_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26),_glui_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),useHoverInteraction=function useHoverInteraction(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_4__.useState)(!1),_useState2=Object(_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.a)(_useState,2),hover=_useState2[0],setHover=_useState2[1];return Object(react__WEBPACK_IMPORTED_MODULE_4__.useMemo)((function(){return{draw:hover?function(g){g.beginFill(15987698),g.lineStyle({width:2,color:11816087}),g.drawRoundedRect(0,0,100,100,32),g.endFill()}:function(g){g.beginFill(14472921),g.lineStyle({width:2,color:11816087}),g.drawRoundedRect(0,0,100,100,16),g.endFill()},onMouseOver:function onMouseOver(){setHover(!0)},onMouseOut:function onMouseOut(){setHover(!1)}}}),[hover])},GLMode=function GLMode(){var props=useHoverInteraction();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:"使用 GL 绘制的 2D 图形，渲染到 RenderTexture 时不支持 MSAA，性能好"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_3__.Surface,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_3__.GraphicsGl,Object(_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},props),{},{interactive:!0,x:10,y:10}))})]})},CanvasMode=function CanvasMode(){var props=useHoverInteraction();return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:"使用 CanvasContext2D 绘制的 2D 图形，本质上是一个 Sprite，渲染效果好，性能较差"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_3__.Surface,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_3__.Graphics,Object(_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)(Object(_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},props),{},{interactive:!0,x:10,y:10}))})]})};__webpack_exports__.default={parameters:{storySource:{source:"import { Graphics, GraphicsGl, Surface } from '@glui/core'\nimport { FC, useMemo, useState } from 'react'\n\nconst useHoverInteraction = <T extends (GraphicsGl | Graphics)> () => {\n  const [hover, setHover] = useState(false)\n  const props = useMemo(() => {\n    return {\n      draw: hover ? \n        (g: T) => {\n          g.beginFill(0xf3f3f2)\n          g.lineStyle({ width: 2, color: 0xb44c97 })\n          g.drawRoundedRect(0, 0, 100, 100, 32)\n          g.endFill()\n        } : (g: T) => {\n          g.beginFill(0xdcd6d9)\n          g.lineStyle({ width: 2, color: 0xb44c97 })\n          g.drawRoundedRect(0, 0, 100, 100, 16)\n          g.endFill()\n        },\n      onMouseOver: () => {\n        setHover(true)\n      },\n      onMouseOut: () => {\n        setHover(false)\n      },\n    } as const\n  }, [hover])\n  return props\n}\n\nexport const GLMode: FC = () => {\n  const props = useHoverInteraction<GraphicsGl>()\n  return (\n    <div>\n      <p>使用 GL 绘制的 2D 图形，渲染到 RenderTexture 时不支持 MSAA，性能好</p>\n      <Surface>\n        <GraphicsGl\n          { ...props }\n          interactive={ true }\n          x={ 10 }\n          y={ 10 }\n        />\n      </Surface>\n    </div>\n    \n  )\n}\n\nexport const CanvasMode: FC = () => {\n  const props = useHoverInteraction<Graphics>()\n  return (\n    <div>\n      <p>使用 CanvasContext2D 绘制的 2D 图形，本质上是一个 Sprite，渲染效果好，性能较差</p>\n      <Surface>\n        <Graphics\n          { ...props }\n          interactive={ true }\n          x={ 10 }\n          y={ 10 }\n        />\n      </Surface>\n    </div>\n  )\n}\n\nexport default {\n  title: 'core/Graphics',\n}\n",locationsMap:{"gl-mode":{startLoc:{col:26,line:31},endLoc:{col:1,line:47},startBody:{col:26,line:31},endBody:{col:1,line:47}},"canvas-mode":{startLoc:{col:30,line:49},endLoc:{col:1,line:64},startBody:{col:30,line:49},endBody:{col:1,line:64}}}}},title:"core/Graphics"};try{GLMode.displayName="GLMode",GLMode.__docgenInfo={description:"",displayName:"GLMode",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/graphics.stories.tsx#GLMode"]={docgenInfo:GLMode.__docgenInfo,name:"GLMode",path:"src/stories/graphics.stories.tsx#GLMode"})}catch(__react_docgen_typescript_loader_error){}try{CanvasMode.displayName="CanvasMode",CanvasMode.__docgenInfo={description:"",displayName:"CanvasMode",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/graphics.stories.tsx#CanvasMode"]={docgenInfo:CanvasMode.__docgenInfo,name:"CanvasMode",path:"src/stories/graphics.stories.tsx#CanvasMode"})}catch(__react_docgen_typescript_loader_error){}},691:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createContainer=void 0;var display_1=__webpack_require__(23),utils_1=__webpack_require__(95);exports.createContainer=function createContainer(props){var el=new display_1.Container;return props&&utils_1.defaultApplyProps(el,props),el},display_1.Container.prototype.__diffProps=utils_1.defaultDiffProps,display_1.Container.prototype.__applyUpdate=utils_1.defaultApplyUpdate,utils_1.mixin(display_1.Container,{scaleX:{get:function(){return this.scale.x},set:function(value){return this.scale.x=value}},scaleY:{get:function(){return this.scale.y},set:function(value){return this.scale.y=value}},skewX:{get:function(){return this.skew.x},set:function(value){return this.skew.x=value}},skewY:{get:function(){return this.skew.y},set:function(value){return this.skew.y=value}},pivotX:{get:function(){return this.pivot.x},set:function(value){return this.pivot.x=value}},pivotY:{get:function(){return this.pivot.y},set:function(value){return this.pivot.y=value}}})},692:function(module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__(693),exports),__exportStar(__webpack_require__(696),exports),__exportStar(__webpack_require__(697),exports)},693:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.createGraphics=exports.GraphicsElement=void 0;var canvas_renderer_1=__webpack_require__(694),core_1=__webpack_require__(8),graphics_1=__webpack_require__(116),math_1=__webpack_require__(1),utils_1=__webpack_require__(95),canvas_pool_1=__webpack_require__(695),indices=new Uint16Array([0,1,2,0,2,3]),uvs=new Float32Array(8),GraphicsElement=function(_super){function GraphicsElement(geometry){var _this=_super.call(this,geometry)||this;_this.uvs=uvs,_this.vertexData=new Float32Array(8),_this.indices=indices,_this._tintRGB=16777215,_this._textureID=-1,_this._anchor=new math_1.Point,_this.shouldUpdateTexture=!0,_this.geometryDirty=-1,_this.resolution=1,_this._debug=!0;var _a=canvas_pool_1.canvasPool.take(3,3),canvas=_a.canvas,context=_a.context;return _this.canvas=canvas,_this.context=context,_this._texture=core_1.Texture.from(canvas),_this._texture.orig=new math_1.Rectangle,_this._texture.trim=new math_1.Rectangle,_this}return __extends(GraphicsElement,_super),GraphicsElement.prototype.calculateVertices=function(){var texture=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==texture._updateID){this._textureID!==texture._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=texture._updateID;var wt=this.transform.worldTransform,a=wt.a,b=wt.b,c=wt.c,d=wt.d,tx=wt.tx,ty=wt.ty,vertexData=this.vertexData,trim=texture.trim,orig=texture.orig,anchor=this._anchor,w0=0,w1=0,h0=0,h1=0;trim?(w0=(w1=trim.x-anchor.x*orig.width)+trim.width,h0=(h1=trim.y-anchor.y*orig.height)+trim.height):(w0=(w1=-anchor.x*orig.width)+orig.width,h0=(h1=-anchor.y*orig.height)+orig.height),vertexData[0]=a*w1+c*h1+tx,vertexData[1]=d*h1+b*w1+ty,vertexData[2]=a*w0+c*h1+tx,vertexData[3]=d*h1+b*w0+ty,vertexData[4]=a*w0+c*h0+tx,vertexData[5]=d*h0+b*w0+ty,vertexData[6]=a*w1+c*h0+tx,vertexData[7]=d*h0+b*w1+ty}},GraphicsElement.prototype.updateTexture=function(resolution){var geometryDirty=this.geometry.dirty;if(this.geometryDirty!==geometryDirty&&(this.geometryDirty=geometryDirty,this.shouldUpdateTexture=!0),this.resolution!==resolution&&(this.resolution=resolution,this.shouldUpdateTexture=!0),this.shouldUpdateTexture){var localBounds=this.getLocalBounds(),canvas=this.canvas,context=this.context,_texture=this._texture,graphicsData=this.geometry.graphicsData,size={width:localBounds.width,height:localBounds.height};canvas.width=size.width*resolution,canvas.height=size.height*resolution,context.scale(resolution,resolution),context.clearRect(0,0,canvas.width,canvas.height),context.translate(-localBounds.x,-localBounds.y);for(var contextFillStyle="",contextStrokeStyle="",tintR=(this.tint>>16&255)/255,tintG=(this.tint>>8&255)/255,tintB=(255&this.tint)/255,i=0;i<graphicsData.length;i++){var data=graphicsData[i],shape=data.shape,fillStyle=data.fillStyle,lineStyle=data.lineStyle,fillColor=0|data.fillStyle.color,lineColor=0|data.lineStyle.color;if(data.matrix)throw"Not supported: "+data.matrix;if(fillStyle.visible){var fillTint=((fillColor>>16&255)/255*tintR*255<<16)+((fillColor>>8&255)/255*tintG*255<<8)+(255&fillColor)/255*tintB*255;contextFillStyle=this._calcCanvasStyle(fillStyle,fillTint)}if(lineStyle.visible){var lineTint=((lineColor>>16&255)/255*tintR*255<<16)+((lineColor>>8&255)/255*tintG*255<<8)+(255&lineColor)/255*tintB*255;contextStrokeStyle=this._calcCanvasStyle(lineStyle,lineTint)}if(context.lineWidth=lineStyle.width,context.lineCap=lineStyle.cap,context.lineJoin=lineStyle.join,context.miterLimit=lineStyle.miterLimit,data.type===math_1.SHAPES.POLY){context.beginPath();var points=(tempShape=shape).points,holes=data.holes,outerArea=void 0,innerArea=void 0,px=void 0,py=void 0;context.moveTo(points[0],points[1]);for(var j=2;j<points.length;j+=2)context.lineTo(points[j],points[j+1]);if(tempShape.closeStroke&&context.closePath(),holes.length>0){outerArea=0,px=points[0],py=points[1];for(j=2;j+2<points.length;j+=2)outerArea+=(points[j]-px)*(points[j+3]-py)-(points[j+2]-px)*(points[j+1]-py);for(var k=0;k<holes.length;k++)if(points=holes[k].shape.points){innerArea=0,px=points[0],py=points[1];for(j=2;j+2<points.length;j+=2)innerArea+=(points[j]-px)*(points[j+3]-py)-(points[j+2]-px)*(points[j+1]-py);if(innerArea*outerArea<0){context.moveTo(points[0],points[1]);for(j=2;j<points.length;j+=2)context.lineTo(points[j],points[j+1])}else{context.moveTo(points[points.length-2],points[points.length-1]);for(j=points.length-4;j>=0;j-=2)context.lineTo(points[j],points[j+1])}holes[k].shape.closeStroke&&context.closePath()}}fillStyle.visible&&(context.globalAlpha=fillStyle.alpha,context.fillStyle=contextFillStyle,context.fill()),lineStyle.visible&&(context.globalAlpha=lineStyle.alpha,context.strokeStyle=contextStrokeStyle,context.stroke())}else if(data.type===math_1.SHAPES.RECT){var tempShape=shape;fillStyle.visible&&(context.globalAlpha=fillStyle.alpha,context.fillStyle=contextFillStyle,context.fillRect(tempShape.x,tempShape.y,tempShape.width,tempShape.height)),lineStyle.visible&&(context.globalAlpha=lineStyle.alpha,context.strokeStyle=contextStrokeStyle,context.strokeRect(tempShape.x,tempShape.y,tempShape.width,tempShape.height))}else if(data.type===math_1.SHAPES.CIRC){tempShape=shape;context.beginPath(),context.arc(tempShape.x,tempShape.y,tempShape.radius,0,2*Math.PI),context.closePath(),fillStyle.visible&&(context.globalAlpha=fillStyle.alpha,context.fillStyle=contextFillStyle,context.fill()),lineStyle.visible&&(context.globalAlpha=lineStyle.alpha,context.strokeStyle=contextStrokeStyle,context.stroke())}else if(data.type===math_1.SHAPES.ELIP){var w=2*(tempShape=shape).width,h=2*tempShape.height,x=tempShape.x-w/2,y=tempShape.y-h/2;context.beginPath();var ox=w/2*.5522848,oy=h/2*.5522848,xe=x+w,ye=y+h,xm=x+w/2,ym=y+h/2;context.moveTo(x,ym),context.bezierCurveTo(x,ym-oy,xm-ox,y,xm,y),context.bezierCurveTo(xm+ox,y,xe,ym-oy,xe,ym),context.bezierCurveTo(xe,ym+oy,xm+ox,ye,xm,ye),context.bezierCurveTo(xm-ox,ye,x,ym+oy,x,ym),context.closePath(),fillStyle.visible&&(context.globalAlpha=fillStyle.alpha,context.fillStyle=contextFillStyle,context.fill()),lineStyle.visible&&(context.globalAlpha=lineStyle.alpha,context.strokeStyle=contextStrokeStyle,context.stroke())}else if(data.type===math_1.SHAPES.RREC){var rx=(tempShape=shape).x,ry=tempShape.y,width=tempShape.width,height=tempShape.height,radius=tempShape.radius,maxRadius=Math.min(width,height)/2|0;radius=radius>maxRadius?maxRadius:radius,context.beginPath(),context.moveTo(rx,ry+radius),context.lineTo(rx,ry+height-radius),context.quadraticCurveTo(rx,ry+height,rx+radius,ry+height),context.lineTo(rx+width-radius,ry+height),context.quadraticCurveTo(rx+width,ry+height,rx+width,ry+height-radius),context.lineTo(rx+width,ry+radius),context.quadraticCurveTo(rx+width,ry,rx+width-radius,ry),context.lineTo(rx+radius,ry),context.quadraticCurveTo(rx,ry,rx,ry+radius),context.closePath(),fillStyle.visible&&(context.globalAlpha=fillStyle.alpha,context.fillStyle=contextFillStyle,context.fill()),lineStyle.visible&&(context.globalAlpha=lineStyle.alpha,context.strokeStyle=contextStrokeStyle,context.stroke())}}this._debug&&(context.strokeStyle="#00ff00",context.strokeRect(localBounds.x,localBounds.y,localBounds.width,localBounds.height),context.textBaseline="top",context.fillStyle="black",context.font="14px Arial",context.fillText("@"+resolution+"x",localBounds.x,localBounds.y)),_texture.trim.width=_texture._frame.width=size.width,_texture.trim.height=_texture._frame.height=size.height,_texture.orig.width=_texture._frame.width,_texture.orig.height=_texture._frame.height,_texture.updateUvs(),_texture.baseTexture.setRealSize(canvas.width,canvas.height,resolution),this.shouldUpdateTexture=!1}},GraphicsElement.prototype._calcCanvasStyle=function(style,tint){var res;return style.texture&&style.texture.baseTexture!==core_1.Texture.WHITE.baseTexture?style.texture.valid?(res=canvas_renderer_1.canvasUtils.getTintedPattern(style.texture,tint),this.setPatternTransform(res,style.matrix||math_1.Matrix.IDENTITY)):res="#808080":res="#"+("00000"+(0|tint).toString(16)).substr(-6),res},GraphicsElement.prototype.setPatternTransform=function(pattern,matrix){var _a,_b,svgMatrix=null===(_b=null===(_a=document.createElementNS("http://www.w3.org/2000/svg","svg"))||void 0===_a?void 0:_a.createSVGMatrix)||void 0===_b?void 0:_b.call(_a);svgMatrix&&(svgMatrix.a=matrix.a,svgMatrix.b=matrix.b,svgMatrix.c=matrix.c,svgMatrix.d=matrix.d,svgMatrix.e=matrix.tx,svgMatrix.f=matrix.ty),pattern.setTransform(svgMatrix.inverse())},GraphicsElement.prototype._render=function(renderer){this.isMask?_super.prototype._render.call(this,renderer):(this.finishPoly(),this.updateTexture(renderer.resolution),this.calculateVertices(),renderer.batch.setObjectRenderer(renderer.plugins.batch),renderer.plugins.batch.render(this))},GraphicsElement.prototype.destroy=function(options){_super.prototype.destroy.call(this,options),canvas_pool_1.canvasPool.return(this.canvas)},Object.defineProperty(GraphicsElement.prototype,"draw",{set:function(value){this._draw!==value&&(this._draw=value,this.clear(),this._draw&&this._draw(this))},enumerable:!1,configurable:!0}),Object.defineProperty(GraphicsElement.prototype,"debug",{get:function(){return this._debug},set:function(value){value!==this._debug&&(this.shouldUpdateTexture=!0,this._debug=value)},enumerable:!1,configurable:!0}),GraphicsElement}(graphics_1.Graphics);exports.GraphicsElement=GraphicsElement,exports.createGraphics=function createGraphics(props){var el=new GraphicsElement;return props&&utils_1.defaultApplyProps(el,props),el}},695:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.canvasPool=void 0;var CanvasPool=function(){function CanvasPool(){}return CanvasPool.prototype.take=function(width,height){void 0===width&&(width=3),void 0===height&&(height=3);var canvas=document.createElement("canvas");canvas.width=width,canvas.height=height;var context=canvas.getContext("2d");if(!context)throw new Error("HTMLCanvasElement.getContext('2d') error.");return{canvas:canvas,context:context}},CanvasPool.prototype.return=function(_canvas){},CanvasPool}();exports.canvasPool=new CanvasPool},696:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.createGraphicsGl=exports.GraphicsGlElement=void 0;var graphics_1=__webpack_require__(116),utils_1=__webpack_require__(95),GraphicsGlElement=function(_super){function GraphicsGlElement(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(GraphicsGlElement,_super),Object.defineProperty(GraphicsGlElement.prototype,"draw",{set:function(value){this._draw!==value&&(this._draw=value,this.clear(),this._draw&&this._draw(this))},enumerable:!1,configurable:!0}),GraphicsGlElement}(graphics_1.Graphics);exports.GraphicsGlElement=GraphicsGlElement,exports.createGraphicsGl=function createGraphicsGl(props){var el=new GraphicsGlElement;return props&&utils_1.defaultApplyProps(el,props),el}},697:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},698:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.createImage=exports.ImageElement=void 0;var core_1=__webpack_require__(8),sprite_1=__webpack_require__(207),utils_1=__webpack_require__(95),ImageElement=function(_super){function ImageElement(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ImageElement,_super),Object.defineProperty(ImageElement.prototype,"href",{get:function(){var _a;return null!==(_a=this._href)&&void 0!==_a?_a:null},set:function(value){value!==this._href?(this.texture&&(this.texture.destroy(),this.texture=core_1.Texture.EMPTY),this._href=value,value&&(this.texture=core_1.Texture.from(value))):console.error("value",value)},enumerable:!1,configurable:!0}),Object.defineProperty(ImageElement.prototype,"anchorX",{get:function(){return this.anchor.x},set:function(value){this.anchor.x=value},enumerable:!1,configurable:!0}),Object.defineProperty(ImageElement.prototype,"anchorY",{get:function(){return this.anchor._y},set:function(value){this.anchor.y=value},enumerable:!1,configurable:!0}),ImageElement}(sprite_1.Sprite);exports.ImageElement=ImageElement,exports.createImage=function createImage(props){var el=new ImageElement;return props&&utils_1.defaultApplyProps(el,props),el}},699:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.createTextInput=exports.TextInputElement=void 0;var math_1=__webpack_require__(1),text_1=__webpack_require__(311),utils_1=__webpack_require__(95),TextInputElement=function(_super){function TextInputElement(){var _this=_super.call(this,"")||this;return _this._disabled=!1,_this._defaultValue=null,_this.cursor="text",_this.interactive=!0,_this.hitArea=new math_1.Rectangle(0,0,200,20),_this}return __extends(TextInputElement,_super),Object.defineProperty(TextInputElement.prototype,"disabled",{get:function(){return this._disabled},set:function(value){value!==this._disabled&&(this._disabled=value)},enumerable:!1,configurable:!0}),Object.defineProperty(TextInputElement.prototype,"defaultValue",{get:function(){return this._defaultValue},set:function(value){this.defaultValue!==value&&(this._defaultValue=value,this.updateValue())},enumerable:!1,configurable:!0}),TextInputElement.prototype.updateValue=function(){var _a;this.text=null!==(_a=this._defaultValue)&&void 0!==_a?_a:""},TextInputElement}(text_1.TextElement);exports.TextInputElement=TextInputElement,exports.createTextInput=function createTextInput(props){var el=new TextInputElement;return props&&utils_1.defaultApplyProps(el,props),el}},700:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixinEventHandlerAccessors=exports.EventTypes=void 0;var display_1=__webpack_require__(23);exports.EventTypes=["onPointerCancel","onPointerDown","onPointerMove","onPointerOut","onPointerOver","onPointerTap","onPointerUp","onPointerUpOutside","onTap","onTouchCancel","onTouchEnd","onTouchEndOutside","onTouchMove","onTouchStart","onClick","onMouseDown","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpOutside","onRightClick","onRightDown","onRightUp","onRightUpOutside"];exports.mixinEventHandlerAccessors=function(){var properties=exports.EventTypes.reduce((function(acc,key){return acc[key]=function(key){var _a,eventHandlerPrivateField="_"+key,lowercaseEventType=key.substr(2).toLowerCase();return(_a={})[key]={get:function(){var _a;return null!==(_a=this[eventHandlerPrivateField])&&void 0!==_a?_a:null},set:function(value){this[eventHandlerPrivateField]&&this.off(lowercaseEventType,this[eventHandlerPrivateField]),this[eventHandlerPrivateField]=value,value&&this.on(lowercaseEventType,value)}},_a}(key)[key],acc}),{});Object.defineProperties(display_1.DisplayObject.prototype,properties),exports.mixinEventHandlerAccessors=function(){}},exports.mixinEventHandlerAccessors()},701:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Reconciler=void 0;var react_reconciler_1=__importDefault(__webpack_require__(702));exports.Reconciler=react_reconciler_1.default},704:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphicsGl=exports.Graphics=exports.Image=exports.TextInput=exports.Text=exports.Container=void 0,exports.Container="Container",exports.Text="Text",exports.TextInput="TextInput",exports.Image="Image",exports.Graphics="Graphics",exports.GraphicsGl="GraphicsGl"},705:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useSize=exports.useFrame=void 0;var react_1=__webpack_require__(7);exports.useFrame=function(callback){react_1.useEffect((function(){callback(0)}))};exports.useSize=function(){return{}}},706:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Surface=void 0;var jsx_runtime_1=__webpack_require__(3),react_1=__webpack_require__(7),react_use_measure_1=__importDefault(__webpack_require__(707)),canvas_1=__webpack_require__(306),gl_1=__webpack_require__(709),stats_1=__webpack_require__(713),defaultStyles={position:"relative",width:"100%",height:"100%",overflow:"hidden"};exports.Surface=react_1.memo((function Surface(_a){var style=_a.style,children=_a.children,onReady=_a.onReady,wrapperProps=__rest(_a,["style","children","onReady"]),canvasRef=react_1.useRef(),_b=react_use_measure_1.default({scroll:!0,debounce:{scroll:50,resize:1/60}}),bind=_b[0],rect=_b[1],pixelRatio=usePixelRatio(),initGl=useReady(rect)&&canvasRef.current&&jsx_runtime_1.jsx(InitGl,__assign({surface:canvasRef.current,top:rect.top,left:rect.left,width:rect.width,height:rect.height,pixelRatio:pixelRatio,onReady:onReady},{children:children}),void 0);return jsx_runtime_1.jsxs("div",__assign({ref:bind,style:__assign(__assign({},defaultStyles),style)},wrapperProps,{children:[jsx_runtime_1.jsx("canvas",{ref:canvasRef,style:{display:"block"}},void 0),initGl,jsx_runtime_1.jsx(stats_1.Stats,{},void 0)]}),void 0)}));var InitGl=function(_a){var surface=_a.surface,top=_a.top,left=_a.left,width=_a.width,height=_a.height,pixelRatio=_a.pixelRatio,children=_a.children,onReady=_a.onReady,gl=react_1.useState((function(){return gl_1.makeGl({surface:surface,width:width,height:height,pixelRatio:pixelRatio,antialias:!0})}))[0];return canvas_1.useCanvas({gl:gl,top:top,left:left,width:width,height:height,children:children,onReady:onReady}),react_1.useLayoutEffect((function(){return function(){gl.destroy()}}),[gl]),null},useReady=function(rect){var flag=react_1.useRef(!1);return react_1.useMemo((function(){return flag.current=flag.current||!!rect.width&&!!rect.height}),[rect])},usePixelRatio=function(){return window.devicePixelRatio}},709:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeGl=void 0;var core_1=__webpack_require__(8),interaction_1=__webpack_require__(710),prepare_1=__webpack_require__(711);__webpack_require__(712);var utils_1=__webpack_require__(2),configureRenderer=function(){utils_1.skipHello(),core_1.Renderer.registerPlugin("interaction",interaction_1.InteractionManager),core_1.Renderer.registerPlugin("prepare",prepare_1.Prepare),core_1.Renderer.registerPlugin("batch",core_1.BatchRenderer),configureRenderer=function(){}};exports.makeGl=function(_a){var surface=_a.surface,width=_a.width,height=_a.height,pixelRatio=_a.pixelRatio,antialias=_a.antialias,_b=_a.backgroundColor,backgroundColor=void 0===_b?15724527:_b;return configureRenderer(),core_1.Renderer.create({view:surface,width:width,height:height,resolution:pixelRatio,autoDensity:!0,antialias:antialias,backgroundColor:backgroundColor})}},713:function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Stats=void 0;var jsx_runtime_1=__webpack_require__(3),react_1=__webpack_require__(7),stats_js_1=__importDefault(__webpack_require__(714));exports.Stats=function(){var ref=react_1.useRef(null);return react_1.useEffect((function(){if(ref.current){var rafId,inst=new stats_js_1.default;inst.dom.style.position="absolute",inst.dom.style.left="",inst.dom.style.right="0",ref.current.appendChild(inst.dom);var update=function(){inst.update(),rafId=requestAnimationFrame(update)};return update(),function(){cancelAnimationFrame(rafId),inst.dom.remove()}}}),[]),jsx_runtime_1.jsx("div",{ref:ref},void 0)}},715:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Intro",(function(){return Intro}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),Intro=function Intro(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children:"Intro"})};__webpack_exports__.default={parameters:{storySource:{source:"import { FC } from 'react'\n\nexport const Intro: FC = () => {\n  return (\n    <div>Intro</div>\n  )\n}\n\nexport default {\n  title: 'core/Intro',\n}\n",locationsMap:{intro:{startLoc:{col:25,line:3},endLoc:{col:1,line:7},startBody:{col:25,line:3},endBody:{col:1,line:7}}}}},title:"core/Intro"};try{Intro.displayName="Intro",Intro.__docgenInfo={description:"",displayName:"Intro",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/intro.stories.tsx#Intro"]={docgenInfo:Intro.__docgenInfo,name:"Intro",path:"src/stories/intro.stories.tsx#Intro"})}catch(__react_docgen_typescript_loader_error){}},716:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TextPerformance",(function(){return TextPerformance})),__webpack_require__.d(__webpack_exports__,"GraphicsPerformance",(function(){return GraphicsPerformance}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_glui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),TextPerformance=function TextPerformance(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)((function(){return Array.from(Array(2e3).keys()).map((function(index){return{key:String(index),x:index%30*40,y:20*Math.floor(index/30),scale:1}}))})),count=Object(_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,1)[0],containerRef=Object(react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){var rafHandle;return rafHandle=requestAnimationFrame((function loop(){var _containerRef$current;rafHandle=requestAnimationFrame(loop),null===(_containerRef$current=containerRef.current)||void 0===_containerRef$current||_containerRef$current.children.forEach((function(it){it.rotation+=.01}))})),function(){cancelAnimationFrame(rafHandle)}}),[]);var handleMouseEvent=function handleMouseEvent(event){"mouseover"===event.type?event.currentTarget.style.fill=16711680:"mouseout"===event.type&&(event.currentTarget.style.fill=0)},content=count.map((function(it){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Text,{x:it.x,y:it.y,text:it.key,interactive:!0,onMouseOver:handleMouseEvent,onMouseOut:handleMouseEvent},it.key)}));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Surface,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Container,{ref:containerRef,children:content})})},GraphicsPerformance=function GraphicsPerformance(){var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)((function(){return Array.from(Array(2e3).keys()).map((function(index){return{key:String(index),x:index%30*40,y:40*Math.floor(index/30),rotation:0}}))})),elements=Object(_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,1)[0],containerRef=Object(react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);Object(react__WEBPACK_IMPORTED_MODULE_3__.useEffect)((function(){var rafHandle;return rafHandle=requestAnimationFrame((function loop(){var _containerRef$current2;rafHandle=requestAnimationFrame(loop),null===(_containerRef$current2=containerRef.current)||void 0===_containerRef$current2||_containerRef$current2.children.forEach((function(it){it.rotation+=.01}))})),function(){cancelAnimationFrame(rafHandle)}}),[]);var drawOut=Object(react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((function(g){g.beginFill(14472921),g.lineStyle({width:2,color:11816087}),g.drawRoundedRect(0,0,40,40,16),g.endFill()}),[]),handleMouseEvent=function handleMouseEvent(event){"mouseover"===event.type?event.currentTarget.draw=function(g){g.beginFill(15987698),g.lineStyle({width:2,color:11816087}),g.drawRoundedRect(0,0,40,40,16),g.endFill()}:"mouseout"===event.type&&(event.currentTarget.draw=drawOut)},content=elements.map((function(it){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Container,{x:it.x,y:it.y,interactive:!0,rotation:it.rotation,onMouseOver:handleMouseEvent,onMouseOut:handleMouseEvent,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Graphics,{draw:drawOut}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Text,{text:it.key})]},it.key)}));return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:["开启位图缓存时，可以看到绘制的矢量图形存在锯齿",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("br",{}),"这是因为 WebGL1 不支持 multisample renderbuffer 且只有 WebGL2 支持",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("br",{}),"从兼容性考虑，未来 Graphics 的绘制将会直接使用 Canvas2D，以便得到最佳的兼容性和质量。"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Surface,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Container,{ref:containerRef,children:content})})]})};__webpack_exports__.default={parameters:{storySource:{source:"import {\n  Container,\n  Graphics, InteractionEvent, Surface,\n  Text\n} from '@glui/core'\nimport { FC, useCallback, useEffect, useRef, useState } from 'react'\n\nexport const TextPerformance: FC = () => {\n  const [count] = useState(() => {\n    const N = 2000\n    const COLUMN = 30\n    const GRID_WIDTH = 40\n    const GRID_HEIGHT = 20\n    return Array.from(Array(N).keys()).map(index => {\n      return {\n        key: String(index),\n        x: (index % COLUMN) * GRID_WIDTH,\n        y: (Math.floor(index / COLUMN)) * GRID_HEIGHT,\n        scale: 1,\n      }\n    })\n  })\n\n  const containerRef = useRef<Container>(null)\n\n  useEffect(() => {\n    let rafHandle: number\n    const loop = () => {\n      rafHandle = requestAnimationFrame(loop)\n      containerRef.current?.children.forEach(it => {\n        it.rotation += 0.01\n      })\n    }\n    rafHandle = requestAnimationFrame(loop)\n    return () => {\n      cancelAnimationFrame(rafHandle)\n    }\n  }, [])\n\n  const handleMouseEvent = (event: InteractionEvent) => {\n    if (event.type === 'mouseover') {\n      (event.currentTarget as Text).style.fill = 0xFF0000\n    } else if (event.type === 'mouseout') {\n      (event.currentTarget as Text).style.fill = 0\n    }\n  }\n\n  const content = count.map(it => {\n    return (\n      <Text\n        key={ it.key }\n        x={ it.x }\n        y={ it.y }\n        text={ it.key }\n        interactive={ true }\n        onMouseOver={ handleMouseEvent }\n        onMouseOut={ handleMouseEvent }\n      />\n    )\n  })\n  return (\n    <Surface>\n      <Container ref={ containerRef }>\n        { content }\n      </Container>\n    </Surface>\n  )\n}\n\nexport const GraphicsPerformance: FC = () => {\n  const [elements] = useState(() => {\n    const N = 2000\n    const COLUMN = 30\n    const GRID_WIDTH = 40\n    const GRID_HEIGHT = 40\n    return Array.from(Array(N).keys()).map(index => {\n      return {\n        key: String(index),\n        x: (index % COLUMN) * GRID_WIDTH,\n        y: (Math.floor(index / COLUMN)) * GRID_HEIGHT,\n        rotation: 0,\n      }\n    })\n  })\n\n  const containerRef = useRef<Container>(null)\n\n  useEffect(() => {\n    let rafHandle: number\n    const loop = () => {\n      rafHandle = requestAnimationFrame(loop)\n      containerRef.current?.children.forEach(it => {\n        it.rotation += 0.01\n      })\n    }\n    rafHandle = requestAnimationFrame(loop)\n    return () => {\n      cancelAnimationFrame(rafHandle)\n    }\n  }, [])\n\n  const drawOut = useCallback((g: Graphics) => {\n      g.beginFill(0xdcd6d9)\n      g.lineStyle({ width: 2, color: 0xb44c97 })\n      g.drawRoundedRect(0, 0, 40, 40, 16)\n      g.endFill()\n  }, [])\n\n  const handleMouseEvent = (event: InteractionEvent) => {\n    if (event.type === 'mouseover') {\n      (event.currentTarget as Graphics).draw = (g: Graphics) => {\n        g.beginFill(0xf3f3f2)\n        g.lineStyle({ width: 2, color: 0xb44c97 })\n        g.drawRoundedRect(0, 0, 40, 40, 16)\n        g.endFill()\n      }\n    } else if (event.type === 'mouseout') {\n      (event.currentTarget as Graphics).draw = drawOut\n    }\n  }\n\n  const content = elements.map(it => {\n    return (\n      <Container\n        key={ it.key }\n        x={ it.x }\n        y={ it.y }\n        interactive={ true }\n        rotation={ it.rotation }\n        onMouseOver={ handleMouseEvent }\n        onMouseOut={ handleMouseEvent }\n      >\n        <Graphics\n          draw={ drawOut }\n        />\n        <Text text={ it.key } />\n      </Container>\n    )\n  })\n  return (\n    <>\n      <div>\n        开启位图缓存时，可以看到绘制的矢量图形存在锯齿<br />\n        这是因为 WebGL1 不支持 multisample renderbuffer 且只有 WebGL2 支持<br />\n        从兼容性考虑，未来 Graphics 的绘制将会直接使用 Canvas2D，以便得到最佳的兼容性和质量。\n      </div>\n      <Surface>\n        <Container ref={ containerRef }>\n          { content }\n        </Container>\n      </Surface>\n    </>\n  )\n}\n\nexport default {\n  title: 'core/Performance',\n  component: Text,\n  decorators: [(Story: FC) => <div style={{ width: '100%', height: '100vh' }}><Story/></div>],\n}\n",locationsMap:{"text-performance":{startLoc:{col:35,line:8},endLoc:{col:1,line:68},startBody:{col:35,line:8},endBody:{col:1,line:68}},"graphics-performance":{startLoc:{col:39,line:70},endLoc:{col:1,line:154},startBody:{col:39,line:70},endBody:{col:1,line:154}}}}},title:"core/Performance",component:_glui_core__WEBPACK_IMPORTED_MODULE_2__.Text,decorators:[function(Story){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{width:"100%",height:"100vh"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})}]};try{TextPerformance.displayName="TextPerformance",TextPerformance.__docgenInfo={description:"",displayName:"TextPerformance",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/performance.stories.tsx#TextPerformance"]={docgenInfo:TextPerformance.__docgenInfo,name:"TextPerformance",path:"src/stories/performance.stories.tsx#TextPerformance"})}catch(__react_docgen_typescript_loader_error){}try{GraphicsPerformance.displayName="GraphicsPerformance",GraphicsPerformance.__docgenInfo={description:"",displayName:"GraphicsPerformance",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/performance.stories.tsx#GraphicsPerformance"]={docgenInfo:GraphicsPerformance.__docgenInfo,name:"GraphicsPerformance",path:"src/stories/performance.stories.tsx#GraphicsPerformance"})}catch(__react_docgen_typescript_loader_error){}},717:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Portal",(function(){return Portal})),__webpack_require__.d(__webpack_exports__,"OnReady",(function(){return OnReady}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_glui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),Portal=function Portal(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Surface,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PortalContent,{})})},PortalContent=function PortalContent(){var _useCanvasState=Object(_glui_core__WEBPACK_IMPORTED_MODULE_2__.useCanvasState)(),stage=_useCanvasState.stage,height=_useCanvasState.height,_useState=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)((function(){var container=Object(_glui_core__WEBPACK_IMPORTED_MODULE_2__.createElement)("Container");return stage.addChild(container),container})),portalContainer=Object(_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,1)[0],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)({x:NaN,y:NaN}),_useState4=Object(_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),_useState4$=_useState4[0],x=_useState4$.x,y=_useState4$.y,setPosition=_useState4[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Container,{cursor:"pointer",interactive:!0,onMouseMove:function handleMove(event){setPosition(event.data.getLocalPosition(event.currentTarget))},y:height/2,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Text,{text:"私はガラスを食べられます。それは私を傷つけません。"}),!isNaN(x)&&!isNaN(y)&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Text,{text:"(".concat(x,", ").concat(y,")"),y:30}),Object(_glui_core__WEBPACK_IMPORTED_MODULE_2__.createPortal)(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Text,{text:"我能吞下玻璃而不伤身体。"}),portalContainer)]})},OnReady=function OnReady(){var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1),_useState6=Object(_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState5,2),ready=_useState6[0],setReady=_useState6[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{children:["ready: ",String(ready)]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Surface,{onReady:function handleReady(){setReady(!0)}})]})};__webpack_exports__.default={parameters:{storySource:{source:"import {\n  Container,\n  createElement,\n  createPortal,\n  InteractionEvent,\n  Surface,\n  Text,\n  useCanvasState\n} from '@glui/core'\nimport { FC, useState } from 'react'\n\nexport const Portal: FC = () => {\n  return (\n    <Surface>\n      <PortalContent />\n    </Surface>\n  )\n}\n\nconst PortalContent: FC = () => {\n  const { stage, height } = useCanvasState()\n  const [portalContainer] = useState(() => {\n    const container = createElement('Container')\n    stage.addChild(container)\n    return container\n  })\n  const [{ x, y }, setPosition] = useState({x: NaN, y: NaN})\n\n  const handleMove = (event: InteractionEvent) => {\n    setPosition(event.data.getLocalPosition(event.currentTarget))\n  }\n  return (\n    <Container cursor={ 'pointer' } interactive={ true } onMouseMove={handleMove} y={height / 2}>\n      <Text text='私はガラスを食べられます。それは私を傷つけません。' />\n      { (!isNaN(x) && !isNaN(y)) && <Text text={`(${x}, ${y})`} y={30} /> }\n      { createPortal(<Text text='我能吞下玻璃而不伤身体。' />, portalContainer) }\n    </Container>\n  )\n}\n\nexport const OnReady: FC = () => {\n  const [ready, setReady] = useState(false) \n  const handleReady = () => {\n    setReady(true)\n  }\n  return (\n    <div>\n      <span>ready: {String(ready)}</span>\n      <Surface onReady={ handleReady } />\n    </div>\n  )\n}\n\nexport default {\n  title: 'core/Surface',\n  component: Surface,\n  decorators: [(Story: FC) => <div style={{ width: '100%', height: '100vh' }}><Story/></div>],\n}\n",locationsMap:{portal:{startLoc:{col:26,line:12},endLoc:{col:1,line:18},startBody:{col:26,line:12},endBody:{col:1,line:18}},"on-ready":{startLoc:{col:27,line:41},endLoc:{col:1,line:52},startBody:{col:27,line:41},endBody:{col:1,line:52}}}}},title:"core/Surface",component:_glui_core__WEBPACK_IMPORTED_MODULE_2__.Surface,decorators:[function(Story){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{width:"100%",height:"100vh"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})}]};try{Portal.displayName="Portal",Portal.__docgenInfo={description:"",displayName:"Portal",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/surface.stories.tsx#Portal"]={docgenInfo:Portal.__docgenInfo,name:"Portal",path:"src/stories/surface.stories.tsx#Portal"})}catch(__react_docgen_typescript_loader_error){}try{OnReady.displayName="OnReady",OnReady.__docgenInfo={description:"",displayName:"OnReady",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/surface.stories.tsx#OnReady"]={docgenInfo:OnReady.__docgenInfo,name:"OnReady",path:"src/stories/surface.stories.tsx#OnReady"})}catch(__react_docgen_typescript_loader_error){}},718:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Uncontrolled",(function(){return Uncontrolled}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_glui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7),Uncontrolled=function Uncontrolled(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(""),_useState2=Object(_Users_kk_dev_glui_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),value=_useState2[0],setValue=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Surface,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.TextInput,{defaultValue:"Enter text...",onInput:function handleInput(event){setValue(event.target.value)},width:100}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_2__.Text,{y:20,text:value})]})};__webpack_exports__.default={parameters:{storySource:{source:"import {\n  Surface,\n  TextInput,\n  Text,\n} from '@glui/core'\nimport { FC, useState } from 'react'\n\nexport const Uncontrolled: FC = () => {\n  const [value, setValue] = useState('')\n  const handleInput = (event: Event) => {\n    setValue((event.target as HTMLInputElement).value)\n  }\n  return (\n    <Surface>\n      <TextInput\n        defaultValue=\"Enter text...\"\n        onInput={ handleInput }\n        width={ 100 }\n      />\n      <Text \n        y={ 20 }\n        text={ value }\n      />\n    </Surface>\n  )\n}\n\nexport default {\n  title: 'core/TextInput',\n  component: TextInput,\n  decorators: [(Story: FC) => <div style={{ width: '100%', height: '100vh' }}><Story/></div>],\n}\n",locationsMap:{uncontrolled:{startLoc:{col:32,line:8},endLoc:{col:1,line:26},startBody:{col:32,line:8},endBody:{col:1,line:26}}}}},title:"core/TextInput",component:_glui_core__WEBPACK_IMPORTED_MODULE_2__.TextInput,decorators:[function(Story){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{width:"100%",height:"100vh"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})}]};try{Uncontrolled.displayName="Uncontrolled",Uncontrolled.__docgenInfo={description:"",displayName:"Uncontrolled",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/text-input.stories.tsx#Uncontrolled"]={docgenInfo:Uncontrolled.__docgenInfo,name:"Uncontrolled",path:"src/stories/text-input.stories.tsx#Uncontrolled"})}catch(__react_docgen_typescript_loader_error){}},719:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic}));var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_glui_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),Basic=function Basic(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_1__.Surface,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_glui_core__WEBPACK_IMPORTED_MODULE_1__.Text,{text:"Hello World 🍻 你好世界。"})})};__webpack_exports__.default={parameters:{storySource:{source:"import {\n  Surface,\n  Text\n} from '@glui/core'\nimport { FC } from 'react'\n\nexport const Basic: FC = () => {\n  return (\n    <Surface>\n      <Text\n        text='Hello World 🍻 你好世界。'\n      />\n    </Surface>\n  )\n}\n\nexport default {\n  title: 'core/Text',\n  component: Text,\n  decorators: [(Story: FC) => <div style={{ width: '100%', height: '100vh' }}><Story/></div>],\n}\n",locationsMap:{basic:{startLoc:{col:25,line:7},endLoc:{col:1,line:15},startBody:{col:25,line:7},endBody:{col:1,line:15}}}}},title:"core/Text",component:_glui_core__WEBPACK_IMPORTED_MODULE_1__.Text,decorators:[function(Story){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{width:"100%",height:"100vh"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Story,{})})}]};try{Basic.displayName="Basic",Basic.__docgenInfo={description:"",displayName:"Basic",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/text.stories.tsx#Basic"]={docgenInfo:Basic.__docgenInfo,name:"Basic",path:"src/stories/text.stories.tsx#Basic"})}catch(__react_docgen_typescript_loader_error){}},720:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return image_stories_Basic}));var jsx_runtime=__webpack_require__(3),objectSpread2=__webpack_require__(70),slicedToArray=__webpack_require__(26),esm=__webpack_require__(6),react=__webpack_require__(7),image_stories_Basic=function Basic(){var _useState=Object(react.useState)((function(){return Array.from(Array(10).keys()).map((function(key){return{key:String(key),x:40+40*key,y:100,scale:1}}))})),_useState2=Object(slicedToArray.a)(_useState,2),bunnies=_useState2[0],setBunnies=_useState2[1],_useState3=Object(react.useState)(""),_useState4=Object(slicedToArray.a)(_useState3,2),message=_useState4[0],setMessage=_useState4[1],zoom=function zoom(key){var scale=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;setMessage("Bunny: ".concat(key)),setBunnies((function(prev){return prev.map((function(it){return it.key===key?Object(objectSpread2.a)(Object(objectSpread2.a)({},it),{},{scale:scale}):it}))}))};return Object(jsx_runtime.jsx)(esm.Surface,{children:Object(jsx_runtime.jsxs)(esm.Container,{children:[bunnies.map((function(_ref){var key=_ref.key,x=_ref.x,y=_ref.y,scale=_ref.scale;return Object(jsx_runtime.jsx)(esm.Image,{href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAlCAYAAABcZvm2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAWNJREFUeNrsV8sNwjAMbUqBBWACxB2pQ8AKcGALTsAJuDEFB1gBhuDAuWICmICPQh01pXWdJqEFcaglRGRbfonjPLuMc+5QwhjLGEJfZusjxZOL9akZKye9G98vPMfvsAx4qBfKwfzBL9s6uUHpI6U/u7+BKGkNb/H6umtk7MczF0HyfKS4zo/k/4AgTV8DOizrqX8oECgC+MGa8lGJp9sJDiAB8nyqYoglvJOPbP97IqoATGxWVZeXJlMQwYHA3piF8wJIblOVNBBxe3TPMLoHIKtxrbS7AAbBrA4Y5NaPAXf8LjN6wKZ0RaZOnlAFZnuXInVR4FTE6eYp0olPhhshtXsAwY3PquoAJNkIY33U7HTs7hYBwV24ItUKqDwgKF3VzAZ6k8HF+B1BMF8xRJbeJoqMXHZAAQ1kwoluURCdzepEugGEImBrIADB7I4lyfbJLlw92FKE6b5hVd+ktv4vAQYASMWxvlAAvcsAAAAASUVORK5CYII=",x:x,y:y,scaleX:scale,scaleY:scale,anchorX:.5,anchorY:.5,interactive:!0,onMouseOver:function handleMouseOver(){zoom(key,1.2)},onMouseOut:function handleMouseOut(){zoom(key,1)},cursor:"pointer"},key)})),Object(jsx_runtime.jsx)(esm.Text,{text:message})]})})};__webpack_exports__.default={parameters:{storySource:{source:"import {\n  Container,\n  Image,\n  Surface,\n  Text\n} from '@glui/core'\nimport { FC, useState } from 'react'\nimport BunnyImage from './assets/bunny.png'\n\nexport const Basic: FC = () => {\n\n  const [bunnies, setBunnies] = useState(() => {\n    return Array.from(Array(10).keys()).map(key => {\n      return {\n        key: String(key),\n        x: 40 + key * 40,\n        y: 100,\n        scale: 1,\n      }\n    })\n  })\n\n  const [message, setMessage] = useState('')\n\n  const zoom = (key: string, scale = 1.0) => {\n    setMessage(`Bunny: ${key}`)\n    setBunnies(prev => {\n      return prev.map(it => {\n        if (it.key === key) {\n          return { ...it, scale }\n        }\n        return it\n      })\n    })\n  }\n\n  return (\n    <Surface>\n      <Container>\n        { bunnies.map(({key, x, y, scale}) => {\n          const handleMouseOver = () => {\n            zoom(key, 1.2)\n          }\n          const handleMouseOut = () => {\n            zoom(key, 1.0)\n          }\n          return (\n            <Image\n              key={key}\n              href={BunnyImage}\n              x={x}\n              y={y}\n              scaleX={ scale }\n              scaleY={ scale }\n              anchorX={ 0.5 }\n              anchorY={ 0.5 }\n              interactive={ true }\n              onMouseOver={ handleMouseOver }\n              onMouseOut={ handleMouseOut }\n              cursor={ 'pointer' }\n            />\n          )\n        }) }\n        <Text text={ message } />\n      </Container>\n    </Surface>\n  )\n}\n\nexport default {\n  title: 'core/Image',\n  component: Image,\n  decorators: [(Story: FC) => <div style={{ width: '100%', height: '100vh' }}><Story/></div>],\n}\n",locationsMap:{basic:{startLoc:{col:25,line:10},endLoc:{col:1,line:68},startBody:{col:25,line:10},endBody:{col:1,line:68}}}}},title:"core/Image",component:esm.Image,decorators:[function(Story){return Object(jsx_runtime.jsx)("div",{style:{width:"100%",height:"100vh"},children:Object(jsx_runtime.jsx)(Story,{})})}]};try{image_stories_Basic.displayName="Basic",image_stories_Basic.__docgenInfo={description:"",displayName:"Basic",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/image.stories.tsx#Basic"]={docgenInfo:image_stories_Basic.__docgenInfo,name:"Basic",path:"src/stories/image.stories.tsx#Basic"})}catch(__react_docgen_typescript_loader_error){}},95:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mixin=exports.defaultDiffProps=exports.defaultApplyUpdate=exports.defaultApplyProps=void 0;exports.defaultApplyProps=function(el,props){for(var key in props)set(el,key,props[key])};exports.defaultApplyUpdate=function(el,payload){for(var i=0;i<payload.length;i+=2){var key=payload[i],value=payload[i+1];set(el,key,value)}};var set=function(el,key,value){"children"!==key&&(el[key]=value)};exports.defaultDiffProps=function(_,oldProps,newProps){var propKey,updatePayload=null;for(propKey in oldProps)!newProps.hasOwnProperty(propKey)&&oldProps.hasOwnProperty(propKey)&&null!=oldProps[propKey]&&"children"!==propKey&&(updatePayload=updatePayload||[]).push(propKey,null);for(propKey in newProps){var nextProp=newProps[propKey],lastProp=null!=oldProps?oldProps[propKey]:void 0;!newProps.hasOwnProperty(propKey)||nextProp===lastProp||null==nextProp&&null==lastProp||"children"!==propKey&&(updatePayload=updatePayload||[]).push(propKey,nextProp)}return updatePayload},exports.mixin=function mixin(factory,properties){return Object.defineProperties(factory.prototype,properties)}}},[[312,1,2]]]);
//# sourceMappingURL=main.9dccbf21203d2e7e267f.bundle.js.map